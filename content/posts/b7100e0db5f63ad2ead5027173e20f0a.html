+++
title = "Tor发布新版本，宣布推出抵御拒绝服务攻击的工作量证明防御机制"
date = 2023-08-26T10:26:16+08:00
categories = ["Tor官方动态", "暗网动态", "暗网技术"]
tags = ["DDOS", "Tor项目", "工作量证明"]
thumbnail = ""
+++

<div class="entry-content clearfix">
<div class="wp-block-image">
<figure class="aligncenter size-full"><noscript><img fetchpriority="high" decoding="async" width="869" height="522" src="/images/e5ce3d39c7fa5b1434e702dfba6a0996.jpg" alt="Tor发布新版本，宣布推出抵御拒绝服务攻击的工作量证明防御机制" class="wp-image-1950"></noscript><img fetchpriority="high" decoding="async" width="869" height="522" src="/images/e5ce3d39c7fa5b1434e702dfba6a0996.jpg" alt="Tor发布新版本，宣布推出抵御拒绝服务攻击的工作量证明防御机制" class="wp-image-1950 j-lazy"></figure></div>
<p>近日，<span class="wpcom_tag_link">Tor项目</span>发布Tor 0.4.8版本，<a href="https://blog.torproject.org/introducing-proof-of-work-defense-for-onion-services/" target="_blank" rel="noreferrer noopener">正式推出了针对洋葱服务的工作量防御机制</a>（Proof-of-Work Defense），旨在优先处理经过验证的网络流量，以阻止拒绝服务（DoS）攻击。</p>
<p>Tor的工作量证明（PoW）防御机制是一种动态的反应机制，在正常使用条件下保持休眠状态。但当洋葱服务受到DoS攻击的压力时，该机制会提示传入的客户端连接执行一系列连续的更复杂操作。然后，洋葱服务将根据客户端表现出的工作量水平对这些连接进行优先级排序。</p>
<p>此举旨在将DoS攻击的成本增加到难以维持的水平，同时优先考虑合法流量，抑制攻击流量。引入<span class="wpcom_tag_link">工作量证明</span>机制将使大规模攻击成本高昂且不切实际，从而抑制攻击者。因此Tor项目鼓励用户将洋葱服务升级到0.4.8版本。</p>
<p>如果攻击者向onion服务发送大量连接请求，PoW防御会启动增加访问.onion网站所需的计算量。增加的计算量对绝大部分设备是可控的，所耗费时间从5毫秒到30毫秒。攻击流量增加，工作量就会增加，最多需要1分钟的工作量。整个过程对用户是不可见的。</p>
<h2 class="wp-block-heading">为什么需要更新？</h2>
<p>洋葱服务通过混淆IP地址来优先考虑用户隐私，这种固有设计使其容易受到DoS攻击，而传统的基于IP的速率限制在这些情况下并不能起到很好的保护作用。为了找到替代解决方案，Tor项目设计了一种涉及客户端难题的工作量证明机制，以在不损害用户隐私的情况下阻止DoS攻击。</p>
<h2 class="wp-block-heading">它是如何工作的？</h2>
<p>工作量证明就像一个票据系统，默认情况下关闭，但通过创建一个优先级队列来适应网络压力。在访问洋葱服务之前，必须解决一个小难题，证明客户端已经完成了一些“工作”。谜题越难，证明用户所做的工作越多，从而证明用户是真实的，而不是试图充斥洋葱服务的僵尸。最终，工作量证明机制阻止了攻击者，同时为真实用户提供了到达目的地的机会。</p>
<h2 class="wp-block-heading">这对于攻击者和用户意味着什么？</h2>
<p>如果攻击者试图向洋葱服务发送大量请求，并淹没洋葱服务，PoW防御就会启动，并增加访问.onion站点所需的计算量。这种票据系统旨在使大量尝试连接洋葱服务的攻击者处于不利地位。维持此类攻击将需要大量的计算工作，而随着计算力的增加，回报也会越来越少。</p>
<p>然而，对于倾向于一次只提交几个请求的日常用户来说，解决难题所增加的计算量对于大多数设备来说是可以承受的，对于速度较快与稍慢的计算机来说，每次解决的初始时间范围从5毫秒到30毫秒不等。如果攻击流量增加，工作量就会增加，最多大约需要1分钟的工作量。虽然这个过程对用户来说是不可见的，并且使得等待工作量证明解决方案与等待慢速网络连接相当，但它具有明显的优势，那就是通过证明自己的非机器属性，即使在Tor网络面临压力的情况下，也能为用户提供访问Tor网络的机会。</p>
<p>在过去的一年里，Tor项目投入了大量的工作来减轻对Tor网络的攻击并增强对洋葱服务的防御。Tor的PoW防御的引入不仅使洋葱服务成为少数具有内置DoS保护的通信协议之一，而且一旦被各大网站采用，还将有望降低定向攻击对网络速度的负面影响。该系统的动态特性有助于在流量突然激增时平衡负载，确保对洋葱服务的访问更加稳定可靠。</p>
 </div>